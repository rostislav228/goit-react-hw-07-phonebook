(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{14:function(t,e,n){t.exports={form:"ContactForm_form__1ix6T",input:"ContactForm_input__34Xmm"}},30:function(t,e,n){t.exports={li:"ContactListItem_li__3uqES"}},38:function(t,e,n){},63:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n(0),a=n.n(c),u=n(11),o=n.n(u),s=(n(38),n(2)),i=n.n(s),b=n(6);var l=function(t){var e=t.title,n=t.children;return Object(r.jsxs)("section",{children:[Object(r.jsx)("h2",{children:e}),n]})},j=n(19),p=n(14),f=n.n(p),d=n(29),h=n.n(d);var O=function(t){var e=t.addContact,n=Object(c.useState)(""),a=Object(j.a)(n,2),u=a[0],o=a[1],s=Object(c.useState)(""),i=Object(j.a)(s,2),b=i[0],l=i[1],p=function(t){var e=t.target,n=e.name,r=e.value;switch(n){case"name":o(r);break;case"number":l(r);break;default:console.log("error")}},d=function(){o(""),l("")};return Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={id:h()(),name:u,number:b};e(n),d()},className:f.a.form,children:[Object(r.jsxs)("label",{children:["Name:",Object(r.jsx)("input",{className:f.a.input,type:"text",name:"name",value:u,placeholder:"enter name",onChange:p})]}),Object(r.jsxs)("label",{children:["Number:",Object(r.jsx)("input",{className:f.a.input,type:"tel",name:"number",value:b,placeholder:"enter number",onChange:p})]}),Object(r.jsx)("button",{type:"submit",disabled:!u.length||!b.length,children:"Add contact"})]})},m=n(30),v=n.n(m);var x=function(t){var e=t.name,n=t.number,c=t.onDelete;return Object(r.jsxs)("li",{className:v.a.li,children:[Object(r.jsxs)("p",{children:[e,": ",n]}),Object(r.jsx)("button",{type:"button",onClick:c,children:"delete"})]})};var w=function(t){var e=t.contacts,n=t.onDelete;return Object(r.jsx)("ul",{children:e?e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(r.jsx)(x,{name:c,number:a,onDelete:function(){return n(e)}},e)})):Object(r.jsx)("p",{children:"no contact with such name in your phone "})})};function k(t){var e=t.onChange;return Object(r.jsxs)("label",{children:["Filter:",Object(r.jsx)("input",{type:"text",name:"filter",onChange:e})]})}var C=n(8),g=n(3),y=Object(g.b)("contacts/addContact"),_=Object(g.b)("contacts/deleteContact"),L=Object(g.b)("contacts/setFilter"),N=n(10),D=n.n(N);D.a.defaults.baseURL="http://localhost:1010";var F=function(){var t=Object(b.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.get("/contacts");case 3:return e=t.sent,n=e.data,t.abrupt("return",n);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(b.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.post("/contacts",e);case 3:return n=t.sent,t.abrupt("return",n);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(b.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,D.a.delete("/contacts/".concat(e));case 3:return n=t.sent,t.abrupt("return",n);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),I=Object(g.c)("contacts/fetchContacts",Object(b.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F();case 3:return e=t.sent,t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))),J=function(t){return t.phonebook.contacts},T=function(t){return t.phonebook.filter},q=function(t){return t.phonebook.isLoader},A=function(t){return t.phonebook.error};var B,M,P=function(){var t=Object(C.c)(J),e=Object(C.c)(T),n=Object(C.c)(q),a=Object(C.c)(A),u=Object(C.b)(),o=function(t){return u(y(t))},s=function(t){return u(_(t))};a&&alert(a),Object(c.useEffect)((function(){u(I())}),[u]);var j=function(){var t=Object(b.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:if(200===t.sent.status){t.next=5;break}return t.abrupt("return",alert("error"));case 5:s(e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.name,!t.map((function(t){return t.name.toLowerCase()})).includes(r.toLowerCase().trim())){e.next=5;break}return alert("".concat(r," is already in contact list")),e.abrupt("return");case 5:return e.next=7,S(n);case 7:if(201===e.sent.status){e.next=10;break}return e.abrupt("return",alert("error"));case 10:o(n);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(l,{title:"Phonebook",children:Object(r.jsx)(O,{addContact:p})}),Object(r.jsxs)(l,{title:"Contacts",children:[Object(r.jsx)(k,{onChange:function(t){var e;e=t.target.value,u(L(e))}}),n&&Object(r.jsx)("p",{children:"loading "}),!n&&Object(r.jsx)(w,{contacts:function(){if(t.length)return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}(),onDelete:j})]})]})},R=n(13),U=n(32),X=n.n(U),z=n(7),G=n(5),H=Object(g.d)([],(B={},Object(z.a)(B,y,(function(t,e){var n=e.payload;return[].concat(Object(R.a)(t),[n])})),Object(z.a)(B,_,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Object(z.a)(B,I.fulfilled,(function(t,e){return e.payload})),B)),K=Object(g.d)("",Object(z.a)({},L,(function(t,e){return e.payload}))),Q=Object(g.d)(!1,(M={},Object(z.a)(M,I.pending,(function(){return!0})),Object(z.a)(M,I.fulfilled,(function(){return!1})),Object(z.a)(M,I.rejected,(function(){return!1})),M)),V=Object(g.d)(null,Object(z.a)({},I.rejected,(function(t,e){return e.payload}))),W=Object(G.c)({contacts:H,filter:K,isLoader:Q,error:V}),Y=[].concat(Object(R.a)(Object(g.e)()),[X.a]),Z=Object(g.a)({reducer:{phonebook:W},devTools:!1,middleware:Y});o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(C.a,{store:Z,children:Object(r.jsx)(P,{})})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.d1699f74.chunk.js.map